{
    "$schema": "https://turbo.build/schema.json",
    "pipeline": {
        "build": {
            "dependsOn": ["^build", "typechain"],
            "inputs": ["**/tsconfig.json", "packages/**/*.{js,json,ts,sol}"],
            "outputs": ["packages/**/{artifacts,dist,typechain-types}/**"]
        },
        "//#build:libraries": {
            "inputs": ["tsconfig.json", "packages/**/*.{js,json,ts}"]
        },
        "//#format:prettier": {
            "inputs": [
                ".prettierrc.json",
                ".prettierignore",
                "*.{js,ts,yml,json,md}",
                "{.github,packages,scripts,types}/**/*.{js,ts,yml,json,md}",
                "!packages/**/{artifacts,cache,dist,typechain-types}/**"
            ]
        },
        "//#format:prettier:write": {
            "inputs": [
                ".prettierrc.json",
                ".prettierignore",
                "*.{js,ts,yml,json,md}",
                "{.github,packages,scripts,types}/**/*.{js,ts,yml,json,md}",
                "!packages/**/{artifacts,cache,dist,typechain-types}/**"
            ]
        },
        "//#lint:eslint": {
            "dependsOn": ["imt.sol#typechain", "lazytower.sol#typechain"],
            "inputs": [
                ".eslintrc.json",
                ".eslintignore",
                "{packages,scripts,types}/**/*.{js,ts}",
                "!packages/**/{artifacts,cache,dist,typechain-types}/**"
            ]
        },
        "lint": {
            "inputs": ["**/*.sol"]
        },
        "//#test:libraries": {
            "dependsOn": ["build:libraries"],
            "inputs": ["jest.config.ts", "packages/**/*.{js,ts}"]
        },
        "//#test:circuits": {
            "dependsOn": [
                "@zk-kit/baby-jubjub#build",
                "@zk-kit/eddsa-poseidon#build",
                "@zk-kit/imt#build",
                "@zk-kit/poseidon-cipher#build",
                "@zk-kit/smt#build",
                "@zk-kit/utils#build"
            ],
            "inputs": ["packages/circuits/**/*.{circom,nr,ts}"]
        },
        "test:coverage": {
            "dependsOn": ["^build"],
            "inputs": ["**/*.sol"]
        },
        "typechain": {
            "inputs": ["packages/**/*.sol"]
        }
    }
}
